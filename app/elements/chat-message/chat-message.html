<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">

<dom-module id="chat-message">
	<link rel="stylesheet" href="chat-message.css">
	<template>
	  <template is="dom-repeat" id="message" as="message" items="{{messages}}">
		  <div class="chat-message-wrapper">
		  	<div class="user-avatar">
		  		<img src="{{message.avatar}}">
		  	</div>
		  	<div class="msg-details">
			  	<label class="name">
			  		<strong>{{message.from}}</strong>
			  	</label>
			  	<time>{{message.time}}</time>
			  	<p class="msg">{{message.message}}</p>
			  	<template is="dom-if" if="{{message.attachments.length}}">
			  		<div class="attachments">
					  	<template is="dom-repeat" items="{{message.attachments}}" as="attachment">
					  		<div class="attachment">
					  			<paper-icon-button icon="icons:attachment"></paper-icon-button>
					  			<label>{{attachment.url}}</label>
					  			<paper-icon-button icon="icons:close"></paper-icon-button>
					  		</div>
					  	</template>
					  </div>
			  	</template>
		  	</div>
		  </div>
	  </template>
  </template>
  <script src="chat-message.js"></script>
</dom-module>
